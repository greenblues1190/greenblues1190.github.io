{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021/vanilla-js-mvc-todolist/","result":{"data":{"site":{"siteMetadata":{"title":"woo jeongmin","siteUrl":"https://woojeongmin.com"}},"markdownRemark":{"id":"ab64341a-09cf-541b-bb49-171bddc90354","excerpt":"구조 Model–view–controller (MVC) is a software design pattern commonly used for developing user interfaces that divide the related program logic into three…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fafcb4cd9e987f4891082a6d7ff1d6ac/dd507/vanilla-js-mvc-todolist-preview.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 118.9873417721519%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEOElEQVQ4y52Ue0xbVRjAa2L85xaoAr3lbTJfi5uaJWbjsWX7x8Ql+sdmIovJjOGfZcJM1KET8ZG4KBDAQSdQ2sJkCc9NYIURmUwXCn1QCjjZEMdjZdxJjYHRUnpu7/n8zm1hLbJFvMmv5+Q75/ud79x7ThVf9poUx0qLHi3QX+OqS5q5viEnV1HbwOXmF3LvvPs+l5N3kjv+YQH32TdlXOHXpVz+56e5/C9Oc598VcSdQk6cLOAqq+qUnVfNjwGAQsF+rjuufzr9m903NjXumhifENxut+Bb8QmEEMHvJ8Lq6qowe/uO8MetWWFm9o4wPTMnTM24hKlplzDrmp+bmJz2mgds1evCmxOTVUv3FsG9tAjCwl8wd3cB+RPQAS7hLswvuGFmbj4UX8DYAiwue+Bvjxfmp+dg6cZtmHS5uhXs+QCF6forlfvbx2H/xTH/vgtjUlaLU0pvckh7GoekjCak2SFltTqlvW0j0j6EtThXZm/zMDnQOgpZDf0dsjAFhdHFnVpVrRVidINEVWuhCMQZbBCLRGNfHsP2cSRaZ5H7MbogOFeMwXkxZT2dsvBFFPKlJm1CvR0SjTaSVGejCUYbPNPggN0tI/BCoxP2YAW7mp3w7HkHvIyxnY3DwObgXMyxigl1dtBU/BgUPo/CeBRqMBivtxKskiJsZUg7Z4dt3w/B0w1D8BSSios+h9IUbKNrBuUK4/QWkeWqz4QJ1ShUG+3w5Dk7yWgdpRmtI8BIb2FghQhrWSy8n9k2yhYTWS4fXmFieZeWvZs3u8cJAKViIABEFCGALaV0UwKSBOz5qP+WyGG1SdreSCHbZrbpV0JFQld8vofKIoTXJkVl9cB94Q4mLOvSqmoGILtjlEjET73eFWBVilglHu4HCKks/PjnCTHqOzMkVYaEO2WhSavCVY60O+Ut+3yr4PF4ZBmrVMJqNiIGghWeunoThf2QHC5MCgmzmZBK1IMVLuMtIGIgWCnCtrgGk/kxJlfYd+PBwrc6R7FCoED8IK54wO9dhlXPPYwEkzd7Cn/5XVSGC3eEDrZab4GX6gdJnmmE5l6wwIlWcwR5LUHkPpLbNgjvmZyQed4qxuOZ/dfBZiefrzET1bc/0SdKeiC2qBvikPgQfPFlUBcHY4xYnKMqvwLxVf0i3rDIg712UxIMFpJssNAU/SAwkmsHYJvRArsbHZDZNAzb661yLHVt3GCBREPoplRsuCksyBusRGOwUgQ0OFkjJ1ghDe9sKru3YfEgVpYj8g8T8kYrRWAdTFKHYP2IMeN/EWKFG9EYg2w2ti6M/HPoOqupH8IVbSLPPs7WCLBcdUXvpfsfpaTjDI8vmdeZ/XztgLQldGbC45FTl1/+QRaeRSF34PD2qNdzDisPHj2kPPj21nj16KGo13LeUL5yZBfqHlGk9bgVl1Dah8D/ZBbRsZ0Wtyv+AQJr3A9Z8S8qAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Vanilla JS MVC ToDoList\"\n        title=\"Vanilla JS MVC ToDoList\"\n        src=\"/static/fafcb4cd9e987f4891082a6d7ff1d6ac/f058b/vanilla-js-mvc-todolist-preview.png\"\n        srcset=\"/static/fafcb4cd9e987f4891082a6d7ff1d6ac/c26ae/vanilla-js-mvc-todolist-preview.png 158w,\n/static/fafcb4cd9e987f4891082a6d7ff1d6ac/6bdcf/vanilla-js-mvc-todolist-preview.png 315w,\n/static/fafcb4cd9e987f4891082a6d7ff1d6ac/f058b/vanilla-js-mvc-todolist-preview.png 630w,\n/static/fafcb4cd9e987f4891082a6d7ff1d6ac/40601/vanilla-js-mvc-todolist-preview.png 945w,\n/static/fafcb4cd9e987f4891082a6d7ff1d6ac/78612/vanilla-js-mvc-todolist-preview.png 1260w,\n/static/fafcb4cd9e987f4891082a6d7ff1d6ac/dd507/vanilla-js-mvc-todolist-preview.png 1528w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"구조\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%A1%B0\" aria-label=\"구조 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구조</h2>\n<blockquote>\n<p>Model–view–controller (MVC) is a software design pattern commonly used for developing user interfaces that divide the related program logic into three interconnected elements. This is done to separate internal representations of information from the ways information is presented to and accepted from the user.</p>\n</blockquote>\n<p>구조는 다음과 같다. 중요한 것은 모델과 뷰는 서로를 모른다는 것이다. 모델과 뷰를 알고 있는 컨트롤러가 모델과 뷰의 메서드를 이용해 프로그램 로직을 정의한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/24da565b6e692b55bb8ed769625b05c9/f1c64/vanilla-js-mvc-todolist-class.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.139240506329116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCklEQVQoz4WSR47DMAxFdf+L+QZxg3uv8CIO4srM48CDgTchIEgWf6FImyAIpO97KctSuq6TPM+lbVshkiSRqiqlruufvdI9TVPNgQELp2kamaZJ0DJcPJ9PeTwemni9XmJZlhp4nifDMEgUReK6ropwVxSFYpZlkXmexXEcNYFvAHKAhEgYhloxwR1VcM/KskziONYchYClcnaqx8wcx6EACDie5ylXcN62TfZ918X5nocDl0DLAOJg27Y+HSLAa93jfw4sHLhooGUok/LpA048ib7dyXcT2nK1ibah4fv+71DWddUP3N7v99+UvwliTF8pil7TR8Oox3FUJwBM8BrKN8Hrt4FzDekDksJfcfS5fwAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"class\"\n        title=\"class\"\n        src=\"/static/24da565b6e692b55bb8ed769625b05c9/f058b/vanilla-js-mvc-todolist-class.png\"\n        srcset=\"/static/24da565b6e692b55bb8ed769625b05c9/c26ae/vanilla-js-mvc-todolist-class.png 158w,\n/static/24da565b6e692b55bb8ed769625b05c9/6bdcf/vanilla-js-mvc-todolist-class.png 315w,\n/static/24da565b6e692b55bb8ed769625b05c9/f058b/vanilla-js-mvc-todolist-class.png 630w,\n/static/24da565b6e692b55bb8ed769625b05c9/40601/vanilla-js-mvc-todolist-class.png 945w,\n/static/24da565b6e692b55bb8ed769625b05c9/78612/vanilla-js-mvc-todolist-class.png 1260w,\n/static/24da565b6e692b55bb8ed769625b05c9/f1c64/vanilla-js-mvc-todolist-class.png 1390w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"데이터-흐름\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%9D%90%EB%A6%84\" aria-label=\"데이터 흐름 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 흐름</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6160042ae91de057d887aa0bd58b0b24/27b7a/vanilla-js-mvc-todolist-data-flow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABeElEQVQoz42T2aoCQQxE+///xi8Qn0RREPd938ddVFzregI9eBsfDISeSSeVSmXGvV4vhY5FUaRms6nRaKThcGg+mUzUaDS0WCws51utCwPP59OSAaBwt9tpuVxaA05i3GHk/gw4nU613+81GAxUq9VUr9dVKpV0OBzs7mfAx+NhyePxWL1eT9vt1ljigLXb7X8MQ1AXauftfD4rk8loPp/HzriJRMKahPYP0He53++azWY2ZrVajccPDeYsiwbdbteYe8YuTGbUcrlsJw18w8/x2Da6omWr1dLlconrHduDFY5O6XRauVxOx+PRAD/HwdCYZcEMUNixfeph7GCzWq3ss1iv14rezyQR/6YVTSuVSgyEW927vlgsyvX7fUtEs0KhoHw+b+9+LEaHcSqVsu0mk0mLe3my2aw2m429o73jb7herzqdTtadcdAK4Yn5EZGAODmMiwTcw5TzdrvZX+TYVqfTEUzpgAPG90aj0NCVe9zXcIJB7A8lLpCuypBfxgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"data-flow\"\n        title=\"data-flow\"\n        src=\"/static/6160042ae91de057d887aa0bd58b0b24/f058b/vanilla-js-mvc-todolist-data-flow.png\"\n        srcset=\"/static/6160042ae91de057d887aa0bd58b0b24/c26ae/vanilla-js-mvc-todolist-data-flow.png 158w,\n/static/6160042ae91de057d887aa0bd58b0b24/6bdcf/vanilla-js-mvc-todolist-data-flow.png 315w,\n/static/6160042ae91de057d887aa0bd58b0b24/f058b/vanilla-js-mvc-todolist-data-flow.png 630w,\n/static/6160042ae91de057d887aa0bd58b0b24/27b7a/vanilla-js-mvc-todolist-data-flow.png 804w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>MVC에서 데이터 흐름은 유저가 뷰의 화면을 보고 입력을 하면 컨트롤러가 모델을 변경시키고 변경된 모델이 뷰를 업데이트한다. To-Do 아이템 추가 기능을 살펴보며 MVC의 데이터 흐름을 살펴보자.</p>\n<h3 id=\"뷰-사용자-입력\" style=\"position:relative;\"><a href=\"#%EB%B7%B0-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9E%85%EB%A0%A5\" aria-label=\"뷰 사용자 입력 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>뷰: 사용자 입력</h3>\n<p>먼저 뷰를 보자. 뷰의 <code class=\"language-text\">bindClickAddItem</code> 메서드는 함수를 받아 아이템 추가 인풋 요소의 엔터키 입력 이벤트에 바인딩하는 메서드이다. id가 <code class=\"language-text\">add-item</code>인 요소의 <code class=\"language-text\">keyup</code> 이벤트 발생 시 키가 엔터키라면 <code class=\"language-text\">add-item</code> 요소의 입력값 문자열을 받아 양단의 공백을 제거한 후 인자로 받은 콜백 함수에 인자로 전달 후 실행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n\n  <span class=\"token function\">bindEventListener</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">type<span class=\"token punctuation\">,</span> selector<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> children <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token function\">$all</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isTarget</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      children<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> target<span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isTarget</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n      e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">bindClickAddItem</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">bindEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keyup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#add-item'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>key <span class=\"token operator\">!==</span> <span class=\"token constant\">ENTER_KEY</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#add-item'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item <span class=\"token operator\">===</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n러\n      <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"컨트롤러-모델-뷰-메서드-바인딩\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EB%AA%A8%EB%8D%B8-%EB%B7%B0-%EB%A9%94%EC%84%9C%EB%93%9C-%EB%B0%94%EC%9D%B8%EB%94%A9\" aria-label=\"컨트롤러 모델 뷰 메서드 바인딩 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨트롤러: 모델, 뷰 메서드 바인딩</h3>\n<p><code class=\"language-text\">addItem</code> 메서드는 컨트롤러가 생성될 때 뷰의 <code class=\"language-text\">bindClickAddItem</code> 메서드에 콜백 함수로 전달됨으로써 뷰의 To-Do 아이템 추가 버튼 클릭 이벤트 발생 시 실행된다. 뷰에서 전달받은 To-Do 아이템 문자열을 모델의 <code class=\"language-text\">addItem</code> 메서드에 전달한다. 그리고 모델의 메서드를 실행 후 결과를 <code class=\"language-text\">result</code>라는 객체에 담아 뷰의 <code class=\"language-text\">render</code> 메서드에 다시 전달한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Controller</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">model<span class=\"token punctuation\">,</span> view</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model <span class=\"token operator\">=</span> model\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>view <span class=\"token operator\">=</span> view\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span><span class=\"token function\">bindClickAddItem</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">addItem</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token operator\">...</span>\n\n  <span class=\"token function\">addItem</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">addItem</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> <span class=\"token parameter\">result</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span><span class=\"token function\">clearInput</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"모델-아이템-추가\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%8D%B8-%EC%95%84%EC%9D%B4%ED%85%9C-%EC%B6%94%EA%B0%80\" aria-label=\"모델 아이템 추가 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모델: 아이템 추가</h3>\n<p>앞에서 컨트롤러로부터 To-Do 아이템 문자열을 전달받은 모델의 <code class=\"language-text\">addItem</code> 메서드는 스토어에서 To-Do 아이템 리스트를 불러온 뒤 새로운 아이템을 추가하고 저장한다. 그리고 변경된 전체 To-Do 아이템 리스트를 콜백 함수로 받은 뷰의 <code class=\"language-text\">render</code> 메소드에 전달한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Model</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n\n  <span class=\"token function\">addItem</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> todos <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>store<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> newItem <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      text<span class=\"token operator\">:</span> item<span class=\"token punctuation\">,</span>\n      isCompleted<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    todos<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>newItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>store<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>todos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_getResult</span><span class=\"token punctuation\">(</span>todos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">_getResult</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">todos</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      todos<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>todos<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"뷰-렌더링\" style=\"position:relative;\"><a href=\"#%EB%B7%B0-%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"뷰 렌더링 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>뷰: 렌더링</h3>\n<p>모델로부터 전달받은 To-Do 아이템 리스트에서 전체 항목과 완료된 항목 수를 카운트한 뒤 템플릿에 전달하여 화면을 생성하고 렌더링한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> todos <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>template<span class=\"token punctuation\">.</span><span class=\"token function\">getHTML</span><span class=\"token punctuation\">(</span>todos<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_getCount</span><span class=\"token punctuation\">(</span>todos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">_getCount</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">todos</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> todos<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> completed <span class=\"token operator\">=</span> todos<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">todo</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> todo<span class=\"token punctuation\">.</span>isCompleted<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> active <span class=\"token operator\">=</span> total <span class=\"token operator\">-</span> completed<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> total<span class=\"token punctuation\">,</span> completed<span class=\"token punctuation\">,</span> active <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<hr>\n<h2 id=\"추가-읽기\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80-%EC%9D%BD%EA%B8%B0\" aria-label=\"추가 읽기 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가 읽기</h2>\n<ul>\n<li><a href=\"https://woojeongmin.com/vanilla-js-mvc-todolist/\">데모 링크</a></li>\n<li><a href=\"https://github.com/greenblues1190/vanilla-js-mvc-todolist\">전체 코드</a></li>\n</ul>","tableOfContents":"<ul>\n<li><a href=\"/2021/vanilla-js-mvc-todolist/#%EA%B5%AC%EC%A1%B0\">구조</a></li>\n<li>\n<p><a href=\"/2021/vanilla-js-mvc-todolist/#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%9D%90%EB%A6%84\">데이터 흐름</a></p>\n<ul>\n<li><a href=\"/2021/vanilla-js-mvc-todolist/#%EB%B7%B0-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9E%85%EB%A0%A5\">뷰: 사용자 입력</a></li>\n<li><a href=\"/2021/vanilla-js-mvc-todolist/#%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EB%AA%A8%EB%8D%B8-%EB%B7%B0-%EB%A9%94%EC%84%9C%EB%93%9C-%EB%B0%94%EC%9D%B8%EB%94%A9\">컨트롤러: 모델, 뷰 메서드 바인딩</a></li>\n<li><a href=\"/2021/vanilla-js-mvc-todolist/#%EB%AA%A8%EB%8D%B8-%EC%95%84%EC%9D%B4%ED%85%9C-%EC%B6%94%EA%B0%80\">모델: 아이템 추가</a></li>\n<li><a href=\"/2021/vanilla-js-mvc-todolist/#%EB%B7%B0-%EB%A0%8C%EB%8D%94%EB%A7%81\">뷰: 렌더링</a></li>\n</ul>\n</li>\n<li><a href=\"/2021/vanilla-js-mvc-todolist/#%EC%B6%94%EA%B0%80-%EC%9D%BD%EA%B8%B0\">추가 읽기</a></li>\n</ul>","frontmatter":{"title":"바닐라 JS로 MVC To-Do List 구현하기","date":"December 23, 2021","description":null,"tags":["Javascript"],"cover":"vanilla-js-mvc-todolist-preview.png"}},"previous":{"fields":{"slug":"/2021/code-spitz-85/"},"frontmatter":{"title":"코드스피츠 85 - 거침없는 자바스크립트 정리"}},"next":{"fields":{"slug":"/2022/ssafy-review/"},"frontmatter":{"title":"SSAFY 7기 선발 과정과 전공자 합격 후기"}}},"pageContext":{"id":"ab64341a-09cf-541b-bb49-171bddc90354","previousPostId":"ad59a05f-7bb1-5693-9bb7-5759cff9ccf2","nextPostId":"da47be92-d8ad-5956-92fd-b3de5c3ad79a"}},"staticQueryHashes":["1152384417","2706681444","3540528984"]}
{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021/gatsby-blog/3/","result":{"data":{"site":{"siteMetadata":{"title":"Woo, Jeongmin"}},"markdownRemark":{"id":"cb713fd5-8e47-54e7-aa9b-0d3291c33500","excerpt":"md 파일 작성 시 태그 지정을 안했을 때 발생하는 에러를 해결하는 방법입니다. 지난번 글에서 태그 기능을 추가한 후 새로운 글을 포스팅했을 때 때음과 같은 에러가 발생하였습니다. 으로 development server를 열고 http://localhost:8000/___graphql…","html":"<p>md 파일 작성 시 태그 지정을 안했을 때 발생하는 에러를 해결하는 방법입니다.</p>\n<hr>\n<p>지난번 글에서 태그 기능을 추가한 후 새로운 글을 포스팅했을 때 때음과 같은 에러가 발생하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Error: EnsureResources was not able to find resources for path: &quot;http://localhost:8000/2021/how-to-install-homebrew-on-m1-mac/&quot;\nThis typically means that an issue occurred building components for that path.\nRun `gatsby clean` to remove any cached elements.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">gatsby develop</code>으로 development server를 열고 <a href=\"http://localhost:8000/___graphql\">http://localhost:8000/___graphql</a>로 들어가면 GraphiQL에 접속할 수 있습니다. 다음과 같은 쿼리를 실행시켜 tags가 없는 마크다운파일이 어떤 frontmatter를 반환하는지 알아봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">query MyQuery {\n  markdownRemark {\n    frontmatter {\n      title\n      description\n      date\n      tags\n    }\n  }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/754a090e1cc7e1e1a5e3bd5e635760ce/64289/3_graphql_error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACe0lEQVQ4y42Ty27TQBSG/QhIPAEr9oanQSJIZEFKSFAKqEmTd+sCFpUQgqht0lwchzbx/TY33zOHY6ctzQKJI/06o2PPp3/mt5XvZ2fPxuPzd+vbTXO7NZqeHzSXq3XzarrY63r5dz3dry8nc9S+T2dac4LvjH9dtb5+O3+uLGbzt4wzIJSBH4TAGAfLduB2a8DGMGGzPdTWsMAwbZQFW5Tr+WBYDpjrDcyns0/KYjF/nbIEBBdZWZYFABSe5xXOxihIGBWcs4IzVrA7+Z5fRDgnlBaEVCIFJTT1/RAm0+uO8nN80bgxQxBJXiJMVpVnmXQDIX2SyGr2WIJyaRmBjAIqYxZLUYmKEgUrTe8qP8aXjRuXAo2zndwXJEkMcZpDUe5qTjW7Vyxi8AIKAQLiJEUjicReijgBbYXA8cWkYVoUylLu7hwiMKk3w35w0BEAgRMBc0m9RtghcKVpjXDDIaXFAzDP8ztHcOCwBqLD0A73QHQpeH3skjOxBy5mywbzY5CPHGZZduDsMZD7FMjaBaI7QH97wOxIcpeUPGKgrdddZblcNoIbBkmU/xdQ4Ea6DYAsLCAzs+qSWWHtcKVXQDyybTNIk6JKuQ4GgXK3u8/osIQQeEQuhUskcyKJDncIKwQGpGl6R9F1/Y0dcky1hPvC7xH+VXhnYHmkTjlNU0jxvtMsxyAz0Ne/PyqavnjlmaH0DcIwXRHHsfB9XziOI4IgEFEUHcixHWHemsJ2XHweCvy7RBBGrPrLptezI+Xo/dGT09Phi+FoqFYajUZqr9dTW62W2m631W63q3Y6nQcd947V4ecv6qDfV0/6A/XkpF+rPxi8bLc/PP0DPG6WLtckjlcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GraphQL Error\"\n        title=\"GraphQL Error\"\n        src=\"/static/754a090e1cc7e1e1a5e3bd5e635760ce/f058b/3_graphql_error.png\"\n        srcset=\"/static/754a090e1cc7e1e1a5e3bd5e635760ce/c26ae/3_graphql_error.png 158w,\n/static/754a090e1cc7e1e1a5e3bd5e635760ce/6bdcf/3_graphql_error.png 315w,\n/static/754a090e1cc7e1e1a5e3bd5e635760ce/f058b/3_graphql_error.png 630w,\n/static/754a090e1cc7e1e1a5e3bd5e635760ce/40601/3_graphql_error.png 945w,\n/static/754a090e1cc7e1e1a5e3bd5e635760ce/78612/3_graphql_error.png 1260w,\n/static/754a090e1cc7e1e1a5e3bd5e635760ce/64289/3_graphql_error.png 2838w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Cannot return null for non-nullable field Frontmatter.tags라는 메시지가 나왔습니다. tags의 타입이 null을 허용하지 않고 있었네요. gatsby-node.js에서 tags의 타입을 확인해보면 다음과 같습니다. </p>\n<div class=\"gatsby-code-title\">gatsby-node.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createSchemaCustomization</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createTypes <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> action의\n\n  <span class=\"token function\">createTypes</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    ...\n\n    type Frontmatter {\n      title: String\n      description: String\n      date: Date @dateformat\n      tags: [String!]!\n    }\n\n    ...\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>gatsby-node.js에 다음과 같이 tags 필드의 타입이 [String!]!으로 정의 되어있습니다. GraphQL에서 스키마를 작성할 때 필드의 타입 뒤에 ”!”를 붙이면 non-nullable로 정의됩니다. 다음과 같이 ”!”를 지우겠습니다. </p>\n<div class=\"gatsby-code-title\">gatsby-node.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createSchemaCustomization</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createTypes <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token function\">createTypes</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></span>\n<span class=\"token string\">    ...</span>\n<span class=\"token string\"></span>\n<span class=\"token string\">    type Frontmatter {</span>\n<span class=\"token string\">      title: String</span>\n<span class=\"token string\">      description: String</span>\n<span class=\"token string\">      date: Date @dateformat</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token string\">      tags: [String!]</span></span><span class=\"token string\">    }</span>\n<span class=\"token string\"></span>\n<span class=\"token string\">    ...</span>\n<span class=\"token string\">  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이제 실행시켜보면 정상적으로 쿼리가 됨을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e2dcfb43613ceeb22715971f035600e7/64289/3_graphql_fixed.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACUElEQVQ4y32T3Y7SQBTH+wgmPoFX3lefxkRM7IWsCIZIsrsu77YX64XGGJfsLlAKFLFQKP2ej37P8bSwZGtc/8kvncy0vznT00rfLy+fDQbf3i1+G4qxWiu24yrT+UK5HWrK3Xiq3I20ipE6U1RNV8aTOY6Rw3WI9wzHM+X6+q559eXrc0lTJ28JJRCEBBzXg5BQ2GwtWBprWK03YKzMCnNjgbVzYGe7YDse4oJlO2BZNqw3WzB1AyYj9ZOkaZPXMeHACEvyPM8AILNtO7OMdeZ7fkYpyQjZE4Zhteb7QRbgOCAlOE9I7Hg+DEdqW/p5fdNYmh6wKM1RJsqkSSJ2LhVOwEU59xBGmViartjsfMF8IljABAtZzlgE88WiI/0Y3DaWuxBCnhRiH4giDjxOIcuLcotylyNRHINp+WCtHKBuADSgAmUo5DCb6x1pcDNsmJsQ8rwoDhWiMKoehv3EkTKUMZQQ4FgRTxLgUSyQnPFoL5zPZg3PoBCH2VGYpmlNVBNi06gXohhPgRIU1YWaqjWIzaHIRXF4hZDgzv8UIpUkisvK7qkLp9Npw10SiPz0WOGjQsyhqv8I8cjbLYE4ysouV41BoSiK+x7VwzgX5TEfUCDZQdiWdF1/s/UodjWH++D3CI8ljhPsdJ04Saurvvj1UZrp2ivb9ISzDgh2FwvgzHEcZlkWc12X+b5fw8Y11/P/hpR/2Wisnkgn70+efD6/eHHRv5BL+v2+3O125WazKbdaLbnT6cjtdvtIr9eTT8/O5NPTOmfn5y9brQ9P/wDy3ZkK/YNlZQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GraphQL Fixed\"\n        title=\"GraphQL Fixed\"\n        src=\"/static/e2dcfb43613ceeb22715971f035600e7/f058b/3_graphql_fixed.png\"\n        srcset=\"/static/e2dcfb43613ceeb22715971f035600e7/c26ae/3_graphql_fixed.png 158w,\n/static/e2dcfb43613ceeb22715971f035600e7/6bdcf/3_graphql_fixed.png 315w,\n/static/e2dcfb43613ceeb22715971f035600e7/f058b/3_graphql_fixed.png 630w,\n/static/e2dcfb43613ceeb22715971f035600e7/40601/3_graphql_fixed.png 945w,\n/static/e2dcfb43613ceeb22715971f035600e7/78612/3_graphql_fixed.png 1260w,\n/static/e2dcfb43613ceeb22715971f035600e7/64289/3_graphql_fixed.png 2838w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","tableOfContents":"","frontmatter":{"title":"Gatsby 블로그 개발 일지 - 3. md 파일 작성 시 태그 지정을 안했을 때 발생하는 에러 해결","date":"February 10, 2021","description":null,"tags":["GraphQL","Gatsby"]}},"previous":{"fields":{"slug":"/2021/gatsby-blog/2/"},"frontmatter":{"title":"Gatsby 블로그 개발 일지 - 2. 태그 추가하기"}},"next":{"fields":{"slug":"/2021/semantic-versioning/"},"frontmatter":{"title":"유의적 버전 (Semantic Versioning)"}}},"pageContext":{"id":"cb713fd5-8e47-54e7-aa9b-0d3291c33500","previousPostId":"f0381487-9dfc-5cdf-972b-e558384232a0","nextPostId":"284d5265-235f-5f45-82b2-207a51951629"}},"staticQueryHashes":["2841359383","3518605037"]}